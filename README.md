# PixelBirdCounter
A tool for counting pixel birds in photos.

# 安装方法：

* 如果没装anaconda：
直接下载release中的压缩包，解压缩即可。（缺点是文件很大。）

* 如果有条件自己配环境：
创建虚拟环境，导入附件中的.yaml文件配置环境，然后命令行运行附件中的python脚本pixelbird.py即可。具体的来说：
```
conda env create -f pixelbird_requirements.yml
conda activate pixelbird
（切换到脚本所在的目录，这里应该同时有countbird.py和pixelbird.py）
python pixelbird.py
```

# 使用方法：
如果你安装的是打包好的版本，双击“PixelBirdCounter.exe”打开图形化界面；否则，在目录下命令行运行“python pixelbird.py”（记得先激活虚拟环境）即可打开图形化界面。

点击“选择要数鸟的图片”，选择要数鸟的图片。

点击“选择输出目录”，选择要输出的位置。

点击“数鸟！”。

稍等片刻，程序会显示出用红点标记有（它认为）有鸟的位置的图片，以及它数出来的鸟数。这张有标记图片会被保存在刚才选择的输出目录里。

![image](https://user-images.githubusercontent.com/51911678/120882001-957d0000-c607-11eb-8de1-a76f8ef0f5fc.png)

# 什么是鸟？
目前的版本里，程序认为“颜色较深（RGB平均值小于100），超过5个像素点连成一片”就是一只鸟。这个显然不是很有适用性。

# 未来改进空间：
* 我可以精进我的打包技术，让下载即可运行的打包文件更小。（目前是压缩后200M，解压后800M）
* 可以把python变得更C，或者用更多并行思想，使数鸟过程得到加速。
* 可以优化GUI，让它不这么丑。
* 可以增加新的功能。例如说：
  * 支持在图形界面里手工糊掉画面里不是天空的深色障碍物。
  * 支持在图形界面里手工调整判断“什么是鸟”的颜色阈值、大小阈值。
  * 支持大批量地处理图片。（可以开发相应的命令行工具。）
  * 支持处理视频。（例如说在每一帧里数鸟，然后输出最大值/平均值/分布图等等。）
  * 等等。

# 作者要说的话
如果有人用得上，欢迎联系我改进工具、加功能！
